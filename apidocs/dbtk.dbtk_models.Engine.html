<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
        <html><head>
        <link rel="stylesheet" type="text/css" href="apidocs.css"/>
        <title>API docs for &ldquo;dbtk.dbtk_models.Engine&rdquo;</title>
        </head>
        <body><h1 class="class">Class d.d.Engine:</h1><span id="part">Part of <a href="dbtk.dbtk_models.html">dbtk.dbtk_models</a></span><p>known subclasses: <a href="dbtk.dbtk_engines.MySQLEngine.html">dbtk.dbtk_engines.MySQLEngine</a>, <a href="dbtk.dbtk_engines.PostgreSQLEngine.html">dbtk.dbtk_engines.PostgreSQLEngine</a>, <a href="dbtk.dbtk_engines.SQLiteEngine.html">dbtk.dbtk_engines.SQLiteEngine</a></p><div class="toplevel"><div><p>A generic database system. Specific database platforms will inherit from
this class.</p>
</div></div><table class="children"><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.add_to_table">add_to_table</a></td><td><div><p>This function adds data to a table from one or more lines specified</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.auto_create_table">auto_create_table</a></td><td><div><p>Creates a table automatically by analyzing a data source and</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.convert_data_type">convert_data_type</a></td><td><div><p>Converts DBTK generic data types to database platform specific data</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.create_db">create_db</a></td><td><div><p>Creates a new database based on settings supplied in Database object</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.create_db_statement">create_db_statement</a></td><td><div><p>Returns a SQL statement to create a database.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.create_raw_data_dir">create_raw_data_dir</a></td><td><div><p>Checks to see if the archive directory exists and creates it if</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.create_table">create_table</a></td><td><div><p>Creates a new database table based on settings supplied in Table</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.create_table_statement">create_table_statement</a></td><td><div><p>Returns a SQL statement to create a table.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.download_file">download_file</a></td><td><div><p>Downloads a file to the raw data directory.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.download_files_from_archive">download_files_from_archive</a></td><td><div><p>Downloads one or more files from an archive into the raw data</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.drop_statement">drop_statement</a></td><td><div><p>Returns a drop table or database SQL statement.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.extract_values">extract_values</a></td><td><div><p>Given a line of data, this function returns a list of the individual</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.format_data_dir">format_data_dir</a></td><td><div><p>Returns the correctly formatted raw data directory location.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.format_filename">format_filename</a></td><td><div><p>Returns the full path of a file in the archive directory.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.format_insert_value">format_insert_value</a></td><td><div><p>Formats a value for an insert statement, for example by surrounding</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.get_input">get_input</a></td><td><div><p>Manually get user input for connection information when script is</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.get_insert_columns">get_insert_columns</a></td><td><div><p>Gets a set of column names for insert statements.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.insert_data_from_archive">insert_data_from_archive</a></td><td><div><p>Insert data from files located in an online archive. This function</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.insert_data_from_file">insert_data_from_file</a></td><td><div><p>The default function to insert data from a file. This function</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.insert_data_from_url">insert_data_from_url</a></td><td><div><p>Insert data from a web resource, such as a text file.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.insert_statement">insert_statement</a></td><td><div><p>Returns a SQL statement to insert a set of values.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.skip_rows">skip_rows</a></td><td><div><p>Skip over the header lines by reading them before processing.</p>
</div></td></tr><tr class="function"><td>Function</td><td><a href="#dbtk.dbtk_models.Engine.tablename">tablename</a></td><td><div><p>Returns the full tablename in the format db.table.</p>
</div></td></tr></table>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.add_to_table">add_to_table(self):</a></div>
            <div class="functionBody"><div><p>This function adds data to a table from one or more lines specified in 
engine.table.source.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.auto_create_table">auto_create_table(self, url, tablename, cleanup=Cleanup(correct_invalid_value, {'nulls':(-999,),})):</a></div>
            <div class="functionBody"><div><p>Creates a table automatically by analyzing a data source and predicting 
column names, data types, delimiter, etc.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.convert_data_type">convert_data_type(self, datatype):</a></div>
            <div class="functionBody"><div><p>Converts DBTK generic data types to database platform specific data 
types</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.create_db">create_db(self):</a></div>
            <div class="functionBody"><div><p>Creates a new database based on settings supplied in Database object 
engine.db</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.create_db_statement">create_db_statement(self):</a></div>
            <div class="functionBody"><div><p>Returns a SQL statement to create a database.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.create_raw_data_dir">create_raw_data_dir(self):</a></div>
            <div class="functionBody"><div><p>Checks to see if the archive directory exists and creates it if 
necessary.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.create_table">create_table(self):</a></div>
            <div class="functionBody"><div><p>Creates a new database table based on settings supplied in Table object 
engine.table.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.create_table_statement">create_table_statement(self):</a></div>
            <div class="functionBody"><div><p>Returns a SQL statement to create a table.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.download_file">download_file(self, url, filename):</a></div>
            <div class="functionBody"><div><p>Downloads a file to the raw data directory.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.download_files_from_archive">download_files_from_archive(self, url, filenames):</a></div>
            <div class="functionBody"><div><p>Downloads one or more files from an archive into the raw data 
directory.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.drop_statement">drop_statement(self, objecttype, objectname):</a></div>
            <div class="functionBody"><div><p>Returns a drop table or database SQL statement.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.extract_values">extract_values(self, line):</a></div>
            <div class="functionBody"><div><p>Given a line of data, this function returns a list of the individual 
data values.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.format_data_dir">format_data_dir(self):</a></div>
            <div class="functionBody"><div><p>Returns the correctly formatted raw data directory location.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.format_filename">format_filename(self, filename):</a></div>
            <div class="functionBody"><div><p>Returns the full path of a file in the archive directory.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.format_insert_value">format_insert_value(self, value):</a></div>
            <div class="functionBody"><div><p>Formats a value for an insert statement, for example by surrounding it 
in single quotes.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.get_input">get_input(self):</a></div>
            <div class="functionBody"><div><p>Manually get user input for connection information when script is run 
from terminal.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.get_insert_columns">get_insert_columns(self, join=True):</a></div>
            <div class="functionBody"><div><p>Gets a set of column names for insert statements.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.insert_data_from_archive">insert_data_from_archive(self, url, filenames):</a></div>
            <div class="functionBody"><div><p>Insert data from files located in an online archive. This function 
extracts the file, inserts the data, and deletes the file if raw data 
archiving is not set.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.insert_data_from_file">insert_data_from_file(self, filename):</a></div>
            <div class="functionBody"><div><p>The default function to insert data from a file. This function simply 
inserts the data row by row. Database platforms with support for inserting 
bulk data from files can override this function.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.insert_data_from_url">insert_data_from_url(self, url):</a></div>
            <div class="functionBody"><div><p>Insert data from a web resource, such as a text file.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.insert_statement">insert_statement(self, values):</a></div>
            <div class="functionBody"><div><p>Returns a SQL statement to insert a set of values.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.skip_rows">skip_rows(self, rows, source):</a></div>
            <div class="functionBody"><div><p>Skip over the header lines by reading them before processing.</p>
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="dbtk.dbtk_models.Engine.tablename">tablename(self):</a></div>
            <div class="functionBody"><div><p>Returns the full tablename in the format db.table.</p>
</div></div>
            </div></body>
        