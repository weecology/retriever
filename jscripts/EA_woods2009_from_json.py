#retriever
from retriever.lib.templates import BasicTextTemplate
from retriever.lib.models import Table, Cleanup, correct_invalid_value

SCRIPT = BasicTextTemplate(tables={'all_plots_1935_1948': Table('all_plots_1935_1948', cleanup=Cleanup(correct_invalid_value, nulls=['NA'])),'all_plots_1974_1980': Table('all_plots_1974_1980', cleanup=Cleanup(correct_invalid_value, nulls=['NA'])),'sampling_history': Table('sampling_history', cleanup=Cleanup(correct_invalid_value, nulls=['NA']),columns=[('record_id', ('pk-auto',)), ('plot', ('char', '10')), ('yr_1935', ('char', '10')), ('yr_1948', ('char', '10')), ('yr_1974', ('char', '10')), ('yr_1978', ('char', '10')), ('yr_1979', ('char', '10')), ('yr_1989', ('char', '10')), ('yr_1992', ('char', '10')), ('yr_1993', ('char', '10')), ('yr_1994', ('char', '10')), ('yr_1997', ('char', '10')), ('yr_1999', ('char', '10')), ('yr_2001', ('char', '10')), ('yr_2002', ('char', '10')), ('yr_2004', ('char', '10')), ('yr_2007', ('char', '10'))]),'upland_plots_1989_2007': Table('upland_plots_1989_2007', cleanup=Cleanup(correct_invalid_value, nulls=['NA', '']))},
                           description='The data set provides stem infomation from a regular grid of 256 permanent plots includes about 20% of a 100-ha old-growth forest at the Dukes Research Natural Area in northern Michigan, USA.',
                           tags=['Taxon > Plants', 'Spatial Scale > Local', 'Data Type > Time Series', 'Data Type > Observational'],
                           citation='Kerry D. Woods. 2009. Multi-decade, spatially explicit population studies of canopy dynamics in Michigan old-growth forests. Ecology 90:3587.',
                           urls={'swamp': 'http://www.esapubs.org/archive/ecol/E090/251/datafiles/swamp_all_modern.txt', 'sampling_history': 'http://www.esapubs.org/archive/ecol/E090/251/datafiles/sampling_history.txt', 'species_codes': 'http://www.esapubs.org/archive/ecol/E090/251/datafiles/species_codes.txt', 'upland_plots_1989_2007': 'http://www.esapubs.org/archive/ecol/E090/251/datafiles/upland_plots_89-07.txt', 'all_plots_1935_1948': 'http://www.esapubs.org/archive/ecol/E090/251/datafiles/all_plots_1935_1948.txt', 'all_plots_1974_1980': 'http://www.esapubs.org/archive/ecol/E090/251/datafiles/all_plots_1974-1980.txt'},
                           shortname='Woods2009',
                           ref='http://www.esapubs.org/archive/ecol/E090/251/',
                           name='Michigan canopy dynamics (Ecological Archives 2009)')